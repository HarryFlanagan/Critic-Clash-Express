let mongoose,reviews,cors;_559‍.w("mongoose",[["default",["mongoose"],function(v){mongoose=v}]]);_559‍.w(".//routes/reviews",[["default",["reviews"],function(v){reviews=v}]]);_559‍.w("cors",[["default",["cors"],function(v){cors=v}]]);




const express = require('express')
const bodyParser = require('body-parser');
const app = express()
const port = 3000

mongoose.connect('mongodb://localhost:27017/test4DB', {
    "userNEwURlParser": true,
    "useUnifiedTopology": true
});

const db = mongoose.connection;
db.on('error', _559‍.g.console.error.bind(_559‍.g.console, 'connection error:'));
db.once('open', () => {
    console.log('DB connected')
});

// Configuring body parser middleware
app.use(bodyParser.urlencoded({ extended: false }));
app.use(bodyParser.json());


app.use('/reviews', reviews)
app.listen(port, () => console.log(`Example app listening on port ${port}!`))


app.get('/addReview/:name', (req, res) => {

  const aReview = new Review({ name: req.params.name });

  aReview.save()
    .then((result) => res.send(`${req.params.name} was saved`))
    .catch((err) =>
      _559‍.g.console.error(err));
});





